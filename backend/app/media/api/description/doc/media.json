{
  "swagger": "2.0",
  "info": {
    "title": "media",
    "description": "media",
    "version": "v1"
  },
  "host": "localhost:8889",
  "basePath": "/",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/media/record/createRecord": {
      "post": {
        "summary": "create new performance record",
        "operationId": "createRecord",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CreateRecordResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CreateRecordReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/deleteRecord": {
      "post": {
        "summary": "delete performance record",
        "operationId": "deleteRecord",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/DeleteRecordResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteRecordReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getAudioUrl": {
      "post": {
        "summary": "get audio presigned url",
        "operationId": "getAudioUrl",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetAudioUrlResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetAudioUrlReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceAudio": {
      "post": {
        "summary": "get performance audio",
        "operationId": "getPerformanceAudio",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceAudioResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceAudioReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceImg": {
      "post": {
        "summary": "get performance thumbnail",
        "operationId": "getPerformanceImg",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceImgResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceImgReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceMidi": {
      "post": {
        "summary": "get performance midi",
        "operationId": "getPerformanceMidi",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceMidiResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceMidiReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceReport": {
      "post": {
        "summary": "get performance report",
        "operationId": "getPerformanceReport",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceReportResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceReportReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceSheet": {
      "post": {
        "summary": "get performance sheet",
        "operationId": "getPerformanceSheet",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceSheetResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceSheetReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceVideo": {
      "post": {
        "summary": "get performance video",
        "operationId": "getPerformanceVideo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceVideoResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceVideoReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getPerformanceWaterfall": {
      "post": {
        "summary": "get performance waterfall",
        "operationId": "getPerformanceWaterfall",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetPerformanceWaterfallResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetPerformanceWaterfallReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getRecord": {
      "post": {
        "summary": "get performance record",
        "operationId": "getRecord",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetRecordResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetRecordReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/getVideoUrl": {
      "post": {
        "summary": "get video presigned url",
        "operationId": "getVideoUrl",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetVideoUrlResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetVideoUrlReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/setAsReference": {
      "post": {
        "summary": "set a performance record as reference",
        "operationId": "setAsReference",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/SetAsReferenceResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SetAsReferenceReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/uploadAudioSuccess": {
      "post": {
        "summary": "upload audio success",
        "operationId": "uploadAudioSuccess",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UploadAudioSuccessResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UploadAudioSuccessReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    },
    "/api/media/record/uploadVideoSuccess": {
      "post": {
        "summary": "upload video success",
        "operationId": "uploadVideoSuccess",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UploadVideoSuccessResp"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UploadVideoSuccessReq"
            }
          }
        ],
        "tags": [
          "media"
        ]
      }
    }
  },
  "definitions": {
    "CreateRecordReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "reference": {
          "type": "string"
        }
      },
      "title": "CreateRecordReq",
      "required": [
        "profileName",
        "reference"
      ]
    },
    "CreateRecordResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "CreateRecordResp",
      "required": [
        "code",
        "recordId",
        "msg"
      ]
    },
    "DeleteRecordReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "DeleteRecordReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "DeleteRecordResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "DeleteRecordResp",
      "required": [
        "code",
        "msg"
      ]
    },
    "FileDetails": {
      "type": "object",
      "properties": {
        "presignedurl": {
          "type": "string"
        },
        "fileName": {
          "type": "string"
        }
      },
      "title": "FileDetails",
      "required": [
        "presignedurl",
        "fileName"
      ]
    },
    "GetAudioUrlReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetAudioUrlReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetAudioUrlResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "data": {
          "$ref": "#/definitions/FileDetails"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetAudioUrlResp",
      "required": [
        "code",
        "data",
        "msg"
      ]
    },
    "GetPerformanceAudioReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceAudioReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceAudioResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceAudioResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceImgReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceImgReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceImgResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceImgResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceMidiReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceMidiReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceMidiResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceMidiResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceReportReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceReportReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceReportResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceReportResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceSheetReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceSheetReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceSheetResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceSheetResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceVideoReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceVideoReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceVideoResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceVideoResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetPerformanceWaterfallReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetPerformanceWaterfallReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetPerformanceWaterfallResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "presignedurl": {
          "type": "string"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetPerformanceWaterfallResp",
      "required": [
        "code",
        "presignedurl",
        "msg"
      ]
    },
    "GetRecordReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "limit": {
          "type": "integer",
          "format": "int64"
        },
        "offset": {
          "type": "integer",
          "format": "int64"
        },
        "start": {
          "type": "integer",
          "format": "int64"
        },
        "end": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetRecordReq",
      "required": [
        "profileName",
        "limit",
        "start",
        "end"
      ]
    },
    "GetRecordResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/RecordInfo"
          }
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetRecordResp",
      "required": [
        "code",
        "data",
        "msg"
      ]
    },
    "GetVideoUrlReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "title": "GetVideoUrlReq",
      "required": [
        "profileName",
        "recordId"
      ]
    },
    "GetVideoUrlResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "data": {
          "$ref": "#/definitions/FileDetails"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "GetVideoUrlResp",
      "required": [
        "code",
        "data",
        "msg"
      ]
    },
    "Record": {
      "type": "object",
      "properties": {
        "subUserId": {
          "type": "string"
        },
        "timestamp": {
          "type": "integer",
          "format": "int64"
        },
        "composition": {
          "type": "string"
        },
        "reference": {
          "type": "string"
        },
        "image": {
          "type": "string"
        },
        "video": {
          "type": "string"
        },
        "audio": {
          "type": "string"
        },
        "midi": {
          "type": "string"
        },
        "sheet": {
          "type": "string"
        },
        "diff": {
          "type": "string"
        },
        "waterfall": {
          "type": "string"
        },
        "report": {
          "type": "string"
        },
        "isRef": {
          "type": "boolean",
          "format": "boolean"
        }
      },
      "title": "Record",
      "required": [
        "subUserId",
        "timestamp",
        "composition",
        "reference",
        "image",
        "video",
        "audio",
        "midi",
        "sheet",
        "diff",
        "waterfall",
        "report",
        "isRef"
      ]
    },
    "RecordInfo": {
      "type": "object",
      "properties": {
        "RecordId": {
          "type": "integer",
          "format": "int64"
        },
        "composition": {
          "type": "string"
        },
        "reference": {
          "type": "string"
        }
      },
      "title": "RecordInfo",
      "required": [
        "RecordId",
        "composition",
        "reference"
      ]
    },
    "SetAsReferenceReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        },
        "isRef": {
          "type": "boolean",
          "format": "boolean"
        }
      },
      "title": "SetAsReferenceReq",
      "required": [
        "profileName",
        "recordId",
        "isRef"
      ]
    },
    "SetAsReferenceResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "SetAsReferenceResp",
      "required": [
        "code",
        "msg"
      ]
    },
    "UploadAudioSuccessReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        },
        "fileName": {
          "type": "string"
        }
      },
      "title": "UploadAudioSuccessReq",
      "required": [
        "profileName",
        "recordId",
        "fileName"
      ]
    },
    "UploadAudioSuccessResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "UploadAudioSuccessResp",
      "required": [
        "code",
        "msg"
      ]
    },
    "UploadVideoSuccessReq": {
      "type": "object",
      "properties": {
        "profileName": {
          "type": "string"
        },
        "recordId": {
          "type": "integer",
          "format": "int64"
        },
        "fileName": {
          "type": "string"
        }
      },
      "title": "UploadVideoSuccessReq",
      "required": [
        "profileName",
        "recordId",
        "fileName"
      ]
    },
    "UploadVideoSuccessResp": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "msg": {
          "type": "string"
        }
      },
      "title": "UploadVideoSuccessResp",
      "required": [
        "code",
        "msg"
      ]
    }
  },
  "securityDefinitions": {
    "apiKey": {
      "type": "apiKey",
      "description": "Enter JWT Bearer token **_only_**",
      "name": "Authorization",
      "in": "header"
    }
  }
}
